<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sign in</title>
    <link rel="stylesheet" href="./CSS/Login.css">
  </head>
  <body>

      <form action="" method="" onsubmit="return Validate()" class="sign-form" name="inscriptionForm">
        <h1> Sign in </h1>

        <div class="login-txt">
          <input type="text" placeholder="Prénom" name="prenom" autocomplete="off">
        </div>
        <div id="errorPrenom"></div>

        <div class="login-txt">
          <input type="text" placeholder="Nom" name="nom" autocomplete="off">
        </div>
        <div id="errorNom"></div>

        <div class="login-txt">
          <input type="email" placeholder="Email" name="email" autocomplete="off">
        </div>
        <div id="errorEmail"></div>

        <div class="login-txt">
          <input type="password" placeholder="Mot de passe" name="mdp" autocomplete="off">
        </div>
        <div id="errorMdp"></div>

        <div class="login-txt">
          <input type="password" placeholder="Confirmer le mot de passe" name="confirmationMdp" autocomplete="off">
        </div>
        <div id="errorConfirmationMdp"></div>
        <br>

        <input type="submit" class="login-btn" value="S'inscrire">

        <div class="bottom-text">
          Déjà inscrit ? <a href="Login.html">Se Connecter</a>
        </div>


      </form>


  </body>
</html>

<script type="text/javascript">
  // creer les variables inscription
  let prenom = document.forms["inscriptionForm"]["prenom"];
  let nom = document.forms["inscriptionForm"]["nom"];
  let email = document.forms["inscriptionForm"]["email"];
  let mdp = document.forms["inscriptionForm"]["mdp"];
  let confirmationMdp = document.forms["inscriptionForm"]["confirmationMdp"];

  let errorPrenom = document.getElementById("errorPrenom");
  let errorNom = document.getElementById("errorNom");
  let errorEmail = document.getElementById("errorEmail");
  let errorMdp = document.getElementById("errorMdp");
  let errorConfirmationMdp = document.getElementById("errorConfirmationMdp");

  // creer les events d'ecoute
  prenom.addEventListener("blur", prenomVerifie, true);
  nom.addEventListener("blur", nomVerifie, true);
  email.addEventListener("blur", emailVerifie, true);
  mdp.addEventListener("blur", mdpVerifie, true);
  confirmationMdp.addEventListener("blur", confirmationMdpVerifie, true);

  //verifier si les champs sont bon avant d'envoyer
  function Validate(){
      if(prenom.value == ""){
          errorPrenom.textContent = "Il faut mettre un Prenom";
          errorPrenom.style.color = "red";
          prenom.focus();
          return false;
      }
      if (nom.value == ""){
          errorNom.textContent = "Il faut mettre un Nom";
          errorNom.style.color = "red";
          nom.focus();
          return false;
      }
      if (email.value == ""){
          errorEmail.textContent = "Il faut mettre une adresse mail";
          errorEmail.style.color = "red";
          email.focus();
          return false;
      }
      if (mdp.value == ""){
          errorMdp.textContent = "Il faut mettre un mot de passe";
          errorMdp.style.color = "red";
          mdp.focus();
          return false;
      }
      if(mdp.value != confirmationMdp.value){
          errorConfirmationMdp.innerHTML = "Les deux mot de passe ne correspondent pas"
          errorConfirmationMdp.style.color = "red";
          return false;
      }
      
  }

  // si les champs sont bon, alors c'est ok
  function prenomVerifie(){
      if(prenom.value != ""){
          errorPrenom.innerHTML = "";
          return true;
      }
  }
  function nomVerifie(){
      if(nom.value != ""){
          errorNom.innerHTML = "";
          return true;
      }
  }
  function emailVerifie(){
      if(email.value != ""){
          errorEmail.innerHTML = "";
          return true;
      }
  }
  function mdpVerifie(){
      if(mdp.value != ""){
          errorMdp.innerHTML = "";
          return true;
      }
  }
  function confirmationMdpVerifie(){
      if(confirmationMdp.value != ""){
        errorConfirmationMdp.innerHTML = "";
        return true;
      }
  }
</script>
